namespace SpriteKind {
    export const Exit = SpriteKind.create()
    export const yourShot = SpriteKind.create()
}
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`
    //% blockIdentity=images._tile
    export const tile1 = img`
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
`
    //% blockIdentity=images._tile
    export const tile2 = img`
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
`
    //% blockIdentity=images._tile
    export const tile3 = img`
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
`
    //% blockIdentity=images._tile
    export const tile4 = img`
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
`
    //% blockIdentity=images._tile
    export const tile5 = img`
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
`
    //% blockIdentity=images._tile
    export const tile6 = img`
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
9 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
9 9 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
9 9 9 3 3 3 3 3 3 3 3 3 3 3 3 3 
9 9 9 9 3 3 3 3 3 3 3 3 3 3 3 3 
9 9 9 9 9 3 3 3 3 3 3 3 3 3 3 3 
9 9 9 9 9 9 3 3 3 3 3 3 3 3 3 3 
9 9 9 9 9 9 9 3 3 3 3 3 3 3 3 3 
9 9 9 9 9 9 9 9 3 3 3 3 3 3 3 3 
9 9 9 9 9 9 9 9 9 3 3 3 3 3 3 3 
9 9 9 9 9 9 9 9 9 9 3 3 3 3 3 3 
9 9 9 9 9 9 9 9 9 9 9 3 3 3 3 3 
9 9 9 9 9 9 9 9 9 9 9 9 3 3 3 3 
9 9 9 9 9 9 9 9 9 9 9 9 9 3 3 3 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 3 3 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 3 
`
    //% blockIdentity=images._tile
    export const tile7 = img`
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 7 
9 9 9 9 9 9 9 9 9 9 9 9 9 9 7 7 
9 9 9 9 9 9 9 9 9 9 9 9 9 7 7 7 
9 9 9 9 9 9 9 9 9 9 9 9 7 7 7 7 
9 9 9 9 9 9 9 9 9 9 9 7 7 7 7 7 
9 9 9 9 9 9 9 9 9 9 7 7 7 7 7 7 
9 9 9 9 9 9 9 9 9 7 7 7 7 7 7 7 
9 9 9 9 9 9 9 9 7 7 7 7 7 7 7 7 
9 9 9 9 9 9 9 7 7 7 7 7 7 7 7 7 
9 9 9 9 9 9 7 7 7 7 7 7 7 7 7 7 
9 9 9 9 9 7 7 7 7 7 7 7 7 7 7 7 
9 9 9 9 7 7 7 7 7 7 7 7 7 7 7 7 
9 9 9 7 7 7 7 7 7 7 7 7 7 7 7 7 
9 9 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
9 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
`
    //% blockIdentity=images._tile
    export const tile8 = img`
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
7 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
7 7 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
7 7 7 5 5 5 5 5 5 5 5 5 5 5 5 5 
7 7 7 7 5 5 5 5 5 5 5 5 5 5 5 5 
7 7 7 7 7 5 5 5 5 5 5 5 5 5 5 5 
7 7 7 7 7 7 5 5 5 5 5 5 5 5 5 5 
7 7 7 7 7 7 7 5 5 5 5 5 5 5 5 5 
7 7 7 7 7 7 7 7 5 5 5 5 5 5 5 5 
7 7 7 7 7 7 7 7 7 5 5 5 5 5 5 5 
7 7 7 7 7 7 7 7 7 7 5 5 5 5 5 5 
7 7 7 7 7 7 7 7 7 7 7 5 5 5 5 5 
7 7 7 7 7 7 7 7 7 7 7 7 5 5 5 5 
7 7 7 7 7 7 7 7 7 7 7 7 7 5 5 5 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 5 5 
7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 5 
`
    //% blockIdentity=images._tile
    export const tile9 = img`
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 5 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 5 5 
3 3 3 3 3 3 3 3 3 3 3 3 3 5 5 5 
3 3 3 3 3 3 3 3 3 3 3 3 5 5 5 5 
3 3 3 3 3 3 3 3 3 3 3 5 5 5 5 5 
3 3 3 3 3 3 3 3 3 3 5 5 5 5 5 5 
3 3 3 3 3 3 3 3 3 5 5 5 5 5 5 5 
3 3 3 3 3 3 3 3 5 5 5 5 5 5 5 5 
3 3 3 3 3 3 3 5 5 5 5 5 5 5 5 5 
3 3 3 3 3 3 5 5 5 5 5 5 5 5 5 5 
3 3 3 3 3 5 5 5 5 5 5 5 5 5 5 5 
3 3 3 3 5 5 5 5 5 5 5 5 5 5 5 5 
3 3 3 5 5 5 5 5 5 5 5 5 5 5 5 5 
3 3 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
3 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 
`
}
function rotateYourSprite () {
    if (controller.dx() < 0) {
        you.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . f f f f f f . . . . . . 
. . . f 2 f e e e e f f . . . . 
. . f 2 2 2 f e e e e f f . . . 
. . f e e e e f f e e e f . . . 
. f e 2 2 2 2 e e f f f f . . . 
. f 2 e f f f f 2 2 2 e f . . . 
. f f f e e e f f f f f f f . . 
. f e e 4 4 f b e 4 4 e f f . . 
. . f e d d f 1 4 d 4 e e f . . 
. . . f d d d e e e e e f . . . 
. . . f e 4 e d d 4 f . . . . . 
. . . f 2 2 e d d e f . . . . . 
. . f f 5 5 f e e f f f . . . . 
. . f f f f f f f f f f . . . . 
. . . f f f . . . f f . . . . . 
`)
    }
    if (controller.dx() > 0) {
        you.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . . f f f f f f . . . . 
. . . . f f e e e e f 2 f . . . 
. . . f f e e e e f 2 2 2 f . . 
. . . f e e e f f e e e e f . . 
. . . f f f f e e 2 2 2 2 e f . 
. . . f e 2 2 2 f f f f e 2 f . 
. . f f f f f f f e e e f f f . 
. . f f e 4 4 e b f 4 4 e e f . 
. . f e e 4 d 4 1 f d d e f . . 
. . . f e e e 4 d d d d f . . . 
. . . . 4 d d e 4 4 4 e f . . . 
. . . . e d d e 2 2 2 2 f . . . 
. . . . f e e f 4 4 5 5 f f . . 
. . . . f f f f f f f f f f . . 
. . . . . f f . . . f f f . . . 
`)
    }
    if (controller.dy() > 0) {
        you.setImage(img`
. . . . . . f f f f . . . . . . 
. . . . f f f 2 2 f f f . . . . 
. . . f f f 2 2 2 2 f f f . . . 
. . f f f e e e e e e f f f . . 
. . f f e 2 2 2 2 2 2 e e f . . 
. . f e 2 f f f f f f 2 e f . . 
. . f f f f e e e e f f f f . . 
. f f e f b f 4 4 f b f e f f . 
. f e e 4 1 f d d f 1 4 e e f . 
. . f e e d d d d d d e e f . . 
. . . f e e 4 4 4 4 e e f . . . 
. . e 4 f 2 2 2 2 2 2 f 4 e . . 
. . 4 d f 2 2 2 2 2 2 f d 4 . . 
. . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
. . . . . f f f f f f . . . . . 
. . . . . f f . . f f . . . . . 
`)
    }
    if (controller.dy() < 0) {
        you.setImage(img`
. . . . . . f f f f . . . . . . 
. . . . f f e e e e f f . . . . 
. . . f e e e f f e e e f . . . 
. . f f f f f 2 2 f f f f f . . 
. . f f e 2 e 2 2 e 2 e f f . . 
. . f e 2 f 2 f f 2 f 2 e f . . 
. . f f f 2 2 e e 2 2 f f f . . 
. f f e f 2 f e e f 2 f e f f . 
. f e e f f e e e e f e e e f . 
. . f e e e e e e e e e e f . . 
. . . f e e e e e e e e f . . . 
. . e 4 f f f f f f f f 4 e . . 
. . 4 d f 2 2 2 2 2 2 f d 4 . . 
. . 4 4 f 4 4 4 4 4 4 f 4 4 . . 
. . . . . f f f f f f . . . . . 
. . . . . f f . . f f . . . . . 
`)
    }
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (you.tileKindAt(TileDirection.Top, sprites.dungeon.purpleSwitchUp)) {
        info.changeScoreBy(1)
        animation.runImageAnimation(
        Button,
        [img`
b b b b b b b b b b b b b b b b 
b c b e 4 4 4 4 4 4 4 4 e b c b 
b b e 4 4 4 4 4 4 4 4 4 4 e b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b d 4 4 4 4 4 4 4 4 4 4 d b b 
b b d 4 4 4 4 4 4 4 4 4 4 d b b 
b b 4 d 4 4 4 4 4 4 4 4 d 4 b b 
b b 4 4 d d d d d d d d 4 4 b b 
b b c 4 4 4 4 4 4 4 4 4 4 c b b 
b b b c c c c c c c c c c b b b 
b c b b b b b b b b b b b b c b 
b b b b b b b b b b b b b b b b 
`,img`
b b b b b b b b b b b b b b b b 
b c b b b b b b b b b b b b c b 
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
b b b e 4 4 4 4 4 4 4 4 e b b b 
b b e 4 4 4 4 4 4 4 4 4 4 e b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b d 4 4 4 4 4 4 4 4 4 4 d b b 
b b c 4 d d d d d d d d 4 c b b 
b b b c c c c c c c c c c b b b 
b c b b b b b b b b b b b b c b 
b b b b b b b b b b b b b b b b 
`,img`
b b b b b b b b b b b b b b b b 
b c b b b b b b b b b b b b c b 
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
b b b e 5 5 5 5 5 5 5 5 e b b b 
b b e 5 5 5 5 5 5 5 5 5 5 e b b 
b b 5 5 5 5 5 5 5 5 5 5 5 5 b b 
b b 5 5 5 5 5 5 5 5 5 5 5 5 b b 
b b 5 5 5 5 5 5 5 5 5 5 5 5 b b 
b b 5 5 5 5 5 5 5 5 5 5 5 5 b b 
b b 5 5 5 5 5 5 5 5 5 5 5 5 b b 
b b d 5 5 5 5 5 5 5 5 5 5 d b b 
b b c 5 d d d d d d d d 5 c b b 
b b b c c c c c c c c c c b b b 
b c b b b b b b b b b b b b c b 
b b b b b b b b b b b b b b b b 
`,img`
b b b b b b b b b b b b b b b b 
b c b b b b b b b b b b b b c b 
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
b b b e 4 4 4 4 4 4 4 4 e b b b 
b b e 4 4 4 4 4 4 4 4 4 4 e b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b d 4 4 4 4 4 4 4 4 4 4 d b b 
b b c 4 d d d d d d d d 4 c b b 
b b b c c c c c c c c c c b b b 
b c b b b b b b b b b b b b c b 
b b b b b b b b b b b b b b b b 
`,img`
b b b b b b b b b b b b b b b b 
b c b e 4 4 4 4 4 4 4 4 e b c b 
b b e 4 4 4 4 4 4 4 4 4 4 e b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b d 4 4 4 4 4 4 4 4 4 4 d b b 
b b d 4 4 4 4 4 4 4 4 4 4 d b b 
b b 4 d 4 4 4 4 4 4 4 4 d 4 b b 
b b 4 4 d d d d d d d d 4 4 b b 
b b c 4 4 4 4 4 4 4 4 4 4 c b b 
b b b c c c c c c c c c c b b b 
b c b b b b b b b b b b b b c b 
b b b b b b b b b b b b b b b b 
`],
        50,
        false
        )
        if (info.score() > 10) {
            music.pewPew.play()
        }
    }
    if (info.score() > 300) {
        music.pewPew.play()
        yourShot = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . a a a a . . . . . . 
. . . . . a a a a a a . . . . . 
. . . . . a a a a a a . . . . . 
. . . . . a a a a a a . . . . . 
. . . . . a a a a a a . . . . . 
. . . . . . a a a a . . . . . . 
. . . . . . . a a . . . . . . . 
. . . . . . . a a . . . . . . . 
. . . . . . . . a . . . . . . . 
. . . . . . . a . . . . . . . . 
. . . . . . . . a . . . . . . . 
`, SpriteKind.yourShot)
        yourShot.setFlag(SpriteFlag.DestroyOnWall, true)
        yourShot.setVelocity(0, -100)
        yourShot.setPosition(you.x, you.y)
        if (info.score() < 305) {
            info.changeScoreBy(1)
        } else {
        	
        }
    }
})
sprites.onOverlap(SpriteKind.yourShot, SpriteKind.Projectile, function (sprite, otherSprite) {
    if (info.score() > 800) {
        scene.cameraShake(2, 200)
        sprite.destroy()
        otherSprite.destroy()
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    scene.cameraShake(4, 500)
    music.powerDown.play()
    info.changeLifeBy(-1)
    pause(1000)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Exit, function (sprite, otherSprite) {
    if (info.score() > 1000) {
        if (game.ask("Escape from here?")) {
            game.over(true, effects.confetti)
            game.reset()
        } else {
            tiles.placeOnTile(you, tiles.getTileLocation(6, 1))
        }
    }
})
function Events () {
    if (info.score() == -1) {
        game.showLongText("You can't get out here until pressing the button a thousand times.", DialogLayout.Bottom)
        game.showLongText("I need 10 presses first.", DialogLayout.Bottom)
        you.say("Press with B.", 5000)
        info.changeScoreBy(1)
    } else if (info.score() == 10) {
        game.showLongText("I've improved the button, so you'll have to press it about 30 times.", DialogLayout.Bottom)
        info.changeScoreBy(1)
    } else if (info.score() == 40) {
        game.showLongText("Are you getting tired of this?", DialogLayout.Bottom)
        game.showLongText("Hmm...", DialogLayout.Bottom)
        game.showLongText("Sometimes I'll give you 100 more :)", DialogLayout.Bottom)
        info.changeScoreBy(1)
    } else if (info.score() == 59) {
        Atari()
    } else if (info.score() == 187) {
        Atari()
    } else if (info.score() == 300) {
        tiles.setWallAt(tiles.getTileLocation(4, 0), false)
        game.showLongText("Hey,", DialogLayout.Bottom)
        game.showLongText("I made a gun for you. Do you want one?", DialogLayout.Bottom)
        game.showLongText("Just give it a shot.", DialogLayout.Bottom)
        info.changeScoreBy(1)
    } else if (info.score() == 305) {
        game.showLongText("Yes! I did it!", DialogLayout.Bottom)
        game.showLongText("Don't you want an enemy?", DialogLayout.Bottom)
        game.showLongText("Just push the button and I'll get it for you.", DialogLayout.Bottom)
        info.changeScoreBy(1)
    } else if (info.score() == 400) {
        game.showLongText("Whoa!", DialogLayout.Bottom)
        game.showLongText("I'm almost there. Just keep pushing the button.", DialogLayout.Bottom)
        info.changeScoreBy(1)
    } else if (info.score() == 445) {
        Atari()
    } else if (info.score() == 600) {
        for (let index = 0; index <= 10; index++) {
            tiles.setWallAt(tiles.getTileLocation(index, 0), false)
        }
        game.showLongText("I'm done.", DialogLayout.Bottom)
        game.showLongText("If you lose your heart, you'll lose your score.", DialogLayout.Bottom)
        game.showLongText("Good luck.", DialogLayout.Bottom)
        info.setLife(5)
        info.changeScoreBy(1)
    } else if (info.score() == 1000) {
        for (let index = 0; index <= 10; index++) {
            tiles.setWallAt(tiles.getTileLocation(index, 0), false)
        }
        game.showLongText("Congratulations.", DialogLayout.Bottom)
        music.magicWand.play()
        scene.cameraShake(4, 500)
        Exit.setFlag(SpriteFlag.Invisible, false)
        game.showLongText("You can escape here.", DialogLayout.Bottom)
        info.changeScoreBy(1)
    } else if (info.score() == 800) {
        game.showLongText("I made 'button' stronger.", DialogLayout.Bottom)
        game.showLongText("And now you can shoot enemies.", DialogLayout.Bottom)
        game.showLongText("Let's get started.", DialogLayout.Bottom)
        info.changeScoreBy(1)
    } else {
    	
    }
}
function Atari () {
    music.baDing.play()
    info.changeScoreBy(100)
    scene.cameraShake(4, 500)
}
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.yourShot, function (sprite, otherSprite) {
    music.pewPew.play()
    info.changeScoreBy(1)
    if (info.score() > 400) {
        pause(100)
    }
})
info.onLifeZero(function () {
    music.wawawawaa.play()
    game.showLongText("You'll never get out of there like that :(", DialogLayout.Bottom)
    game.showLongText("Try again!", DialogLayout.Bottom)
    info.changeScoreBy(-30)
    info.setLife(5)
})
let projectile: Sprite = null
let yourShot: Sprite = null
let Button: Sprite = null
let Exit: Sprite = null
let you: Sprite = null
info.setScore(-1)
tiles.setTilemap(tiles.createTilemap(
            hex`0a0008000c07070706070707070f080b0b0b0b0b0b0b0b0a080b0b0b0b0b0b0b0b0a080b0b0b0b0b0b0b0b0a080b0b0b0b0b0b0b0b0a080b0b0b0b0b0b0b0b0a080b0b0b0b0b0b0b0b0a0d09090909090909090e`,
            img`
2 2 2 2 2 2 2 2 2 2 
2 . . . . . . . . 2 
2 . . . . . . . . 2 
2 . . . . . . . . 2 
2 . . . . . . . . 2 
2 . . . . . . . . 2 
2 . . . . . . . . 2 
2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,sprites.builtin.forestTiles0,sprites.dungeon.darkGroundSouthEast0,sprites.dungeon.darkGroundNorthEast1,sprites.dungeon.collectibleBlueCrystal,sprites.dungeon.chestClosed,sprites.dungeon.purpleSwitchUp,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile9],
            TileScale.Sixteen
        ))
you = sprites.create(img`
. . . . . . f f f f . . . . . . 
. . . . f f f 2 2 f f f . . . . 
. . . f f f 2 2 2 2 f f f . . . 
. . f f f e e e e e e f f f . . 
. . f f e 2 2 2 2 2 2 e e f . . 
. . f e 2 f f f f f f 2 e f . . 
. . f f f f e e e e f f f f . . 
. f f e f b f 4 4 f b f e f f . 
. f e e 4 1 f d d f 1 4 e e f . 
. . f e e d d d d d d e e f . . 
. . . f e e 4 4 4 4 e e f . . . 
. . e 4 f 2 2 2 2 2 2 f 4 e . . 
. . 4 d f 2 2 2 2 2 2 f d 4 . . 
. . 4 4 f 4 4 5 5 4 4 f 4 4 . . 
. . . . . f f f f f f . . . . . 
. . . . . f f . . f f . . . . . 
`, SpriteKind.Player)
controller.moveSprite(you)
Exit = sprites.create(img`
c a c c c c c c c c c c c c c c c c c c c c c c c c c c c c a c 
a c c c c c c c 4 4 4 c c 4 c 4 c c 4 c c 4 4 4 c c c c c c c a 
c c c c c c c c 4 c c c c 4 c 4 c c 4 c c c 4 c c c c c c c c c 
c c c c c c c c 4 4 c c c c 4 c c c 4 c c c 4 c c c c c c c c c 
c c c c c c c c 4 c c c c 4 c 4 c c 4 c c c 4 c c c c c c c c c 
c c c c c c c c 4 4 4 c c 4 c 4 c c 4 c c c 4 c c c c c c c c c 
a c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c a 
c a c c c c c c c c c c c c c c c c c c c c c c c c c c c c a c 
e c c c f f f f f f f f f f f f f f f f f f f f f f f f c c c e 
e c c f f f f f f f f f f f f f f f f f f f f f f f f f f c c e 
e c c f f f f f f f f f f f f f f f f f f f f f f f f f f c c e 
e c c f f f f f f f f f f f f f f f f f f f f f f f f f f c c e 
e c c f f f f f f f f f f f f f f f f f f f f f f f f f f c c e 
e c c f f f f f f f f f f f f f f f f f f f f f f f f f f c c e 
e c c f f f f f f f f f f f f f f f f f f f f f f f f f f c c e 
e c c f f f f f f f f f f f f f f f f f f f f f f f f f f c c e 
`, SpriteKind.Exit)
tiles.placeOnTile(Exit, tiles.getTileLocation(7, 0))
Exit.setFlag(SpriteFlag.Invisible, true)
Button = sprites.create(img`
. b b b b b b b b b b b b b b . 
b c b e 4 4 4 4 4 4 4 4 e b c b 
b b e 4 4 4 4 4 4 4 4 4 4 e b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b 4 4 4 4 4 4 4 4 4 4 4 4 b b 
b b d 4 4 4 4 4 4 4 4 4 4 d b b 
b b d 4 4 4 4 4 4 4 4 4 4 d b b 
b b 4 d 4 4 4 4 4 4 4 4 d 4 b b 
b b 4 4 d d d d d d d d 4 4 b b 
b b c 4 4 4 4 4 4 4 4 4 4 c b b 
b b b c c c c c c c c c c b b b 
b c b b b b b b b b b b b b c b 
. b b b b b b b b b b b b b b . 
`, SpriteKind.Enemy)
tiles.placeOnTile(Button, tiles.getTileLocation(4, 0))
forever(function () {
    rotateYourSprite()
    Events()
})
forever(function () {
    if (info.score() > 600) {
        pause(500)
        projectile = sprites.createProjectileFromSprite(img`
. . . . . . . . . . . . . . . . 
. . . 4 6 6 6 6 6 6 6 7 . . . . 
. 4 4 4 6 6 6 6 6 6 6 6 6 4 . . 
4 4 6 6 6 6 6 6 6 6 6 6 6 6 6 . 
4 6 6 6 6 6 6 6 6 6 6 6 6 6 6 . 
4 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 4 6 6 6 4 6 6 6 6 7 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 
6 6 6 6 6 6 6 6 4 4 6 6 6 6 6 7 
6 6 6 6 6 4 6 6 4 6 6 4 6 6 6 7 
6 6 6 6 6 4 4 4 4 4 4 6 6 6 6 7 
7 6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 
6 7 6 6 6 6 6 6 6 6 6 6 6 6 7 . 
. . 6 6 6 6 6 7 7 7 7 6 4 4 . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, Button, Math.randomRange(-60, 60), Math.randomRange(30, 80))
        if (info.score() > 800) {
            pause(200)
            if (Math.percentChance(50)) {
                projectile = sprites.createProjectileFromSide(img`
. . . . . . . . . . . . . . . . 
. . . 4 6 6 6 6 6 6 6 7 . . . . 
. 4 4 4 6 6 6 6 6 6 6 6 6 4 . . 
4 4 6 6 6 6 6 6 6 6 6 6 6 6 6 . 
4 6 6 6 6 6 6 6 6 6 6 6 6 6 6 . 
4 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 4 6 6 6 4 6 6 6 6 7 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 
6 6 6 6 6 6 6 6 4 4 6 6 6 6 6 7 
6 6 6 6 6 4 6 6 4 6 6 4 6 6 6 7 
6 6 6 6 6 4 4 4 4 4 4 6 6 6 6 7 
7 6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 
6 7 6 6 6 6 6 6 6 6 6 6 6 6 7 . 
. . 6 6 6 6 6 7 7 7 7 6 4 4 . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, 30, 0)
                projectile.setPosition(0, you.y)
            } else {
                projectile = sprites.createProjectileFromSide(img`
. . . . . . . . . . . . . . . . 
. . . 4 6 6 6 6 6 6 6 7 . . . . 
. 4 4 4 6 6 6 6 6 6 6 6 6 4 . . 
4 4 6 6 6 6 6 6 6 6 6 6 6 6 6 . 
4 6 6 6 6 6 6 6 6 6 6 6 6 6 6 . 
4 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 4 6 6 6 4 6 6 6 6 7 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 
6 6 6 6 6 6 6 6 4 4 6 6 6 6 6 7 
6 6 6 6 6 4 6 6 4 6 6 4 6 6 6 7 
6 6 6 6 6 4 4 4 4 4 4 6 6 6 6 7 
7 6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 
6 7 6 6 6 6 6 6 6 6 6 6 6 6 7 . 
. . 6 6 6 6 6 7 7 7 7 6 4 4 . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, -30, 0)
                projectile.setPosition(scene.screenWidth(), Math.randomRange(0, 100))
            }
        }
    }
})
